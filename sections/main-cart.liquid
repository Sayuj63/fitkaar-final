<div class="container py-16">
  <h1 class="text-4xl font-bold mb-8 text-center" style="font-family: var(--font-heading);">YOUR CART</h1>

  {% if cart.item_count > 0 %}
    <form action="{{ routes.cart_url }}" method="post" id="cart">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        
        <!-- Cart Items -->
        <div class="md:col-span-2 space-y-4">
          {% for item in cart.items %}
            <div class="flex items-center gap-4 bg-gray-50 p-4 rounded-lg">
              {% if item.image %}
                <img src="{{ item.image | image_url: width: 100 }}" alt="{{ item.title }}" class="w-20 h-20 object-cover rounded">
              {% endif %}
              
              <div class="flex-1">
                <a href="{{ item.url }}" class="font-bold text-lg hover:underline">{{ item.product.title }}</a>
                <p class="text-sm text-gray-600">{{ item.variant.title }}</p>
                <p class="font-medium mt-1">{{ item.final_price | money }}</p>
              </div>

              <div class="flex items-center gap-2">
                 <input type="number" name="updates[]" value="{{ item.quantity }}" min="0" class="w-16 p-2 border rounded text-center">
                 <a href="/cart/change?line={{ forloop.index }}&quantity=0" class="text-red-500 hover:text-red-700">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" class="currentColor" stroke="currentColor" stroke-width="2"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6"/></svg>
                 </a>
              </div>
            </div>
          {% endfor %}
        </div>

        <!-- Order Summary -->
        <div class="md:col-span-1">
           <div class="bg-gray-100 p-6 rounded-lg sticky top-24">
              <h2 class="text-2xl font-bold mb-4">Summary</h2>
              
              <div class="flex justify-between mb-2">
                 <span>Subtotal</span>
                 <span class="font-bold">{{ cart.total_price | money_with_currency }}</span>
              </div>
              <p class="text-sm text-gray-500 mb-6">Taxes and shipping calculated at checkout</p>
              
              <button type="submit" name="update" class="w-full mb-2 bg-transparent border border-black py-3 font-bold hover:bg-black hover:text-white transition-colors">UPDATE CART</button>
              <button type="submit" name="checkout" class="w-full bg-black text-white py-3 font-bold hover:opacity-90">CHECKOUT</button>
           </div>
        </div>

      </div>
    </form>
  {% else %}
    <div class="text-center py-20">
       <p class="text-xl mb-4">Your cart is empty.</p>
       <a href="/" class="inline-block bg-black text-white px-8 py-3 font-bold uppercase">Continue Shopping</a>
    </div>
  {% endif %}
</div>

{% schema %}
{
  "name": "Cart Page",
  "settings": []
}
{% endschema %}
